# ------------------------------
# Environment Variables for SmythOS services
# ------------------------------

# domain for UI server (used by Traefik reverse proxy)
# example: app.yourdomain.com or localhost (for local development)
# if empty, defaults to http://localhost and routes to port 5050
APP_URL= 
# port for UI server (internal port, proxied by Traefik)
APP_PORT=
# vite dev server (react hot reload)
# example: 4001
APP_DEV_SERVER_PORT=
# local mode indicator for the server to proxy some requests to the dev server (auto configured)
# options: true, false
LOCAL_MODE=
# environment the app is running in
# options: development, production
NODE_ENV=
# OpenAI api key used for some auto generation features (e.g. component title auto generation)
OPENAI_API_KEY=
# FALAI api key used for Avatar image generation
FALAI_API_KEY=

# session secret for both runtime and UI servers
# defaults to a hardcoded secret for dev environment
SESSION_SECRET=

# Redis config: (XOR redis1 and redis2)

## [redis1]single redis instance mode
REDIS_PORT=
REDIS_HOST=
REDIS_PASSWORD=

## [redis2] redis sentinel mode (recommended for scalability)
# example: redis1domain:6379,redis2domain:6379,redis3domain:6379
REDIS_SENTINEL_HOSTS=
REDIS_MASTER_NAME=
REDIS_PASSWORD=



# AWS config:
# if empty, we use local storage for some features
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET_NAME=
AWS_S3_REGION=
AWS_S3_PUB_REGION=
AWS_S3_PUB_BUCKET_NAME=


# Maintenance mode
# options: ON, OFF
MAINTENANCE=


# Runtime server port (internal port, proxied by Traefik)
RUNTIME_PORT=
# Runtime admin port for admin operations (e.g. stopping server, requests, halt etc)
RUNTIME_ADMIN_PORT=

# === Traefik Reverse Proxy Domain Configuration ===
# These domains are used by Traefik to route requests to the appropriate services
# All domains below route to the runtime server (port 5053) via Traefik reverse proxy

# Runtime domain (used by Traefik reverse proxy)
# example: http://runtime.yourdomain.com or http://runtime.localhost (for local development)
# if empty, defaults to http://runtime.localhost and routes to port 5053
RUNTIME_URL=

# domain that hosts development agents. aka the agent state that is visible in canvas (see https://smythos.com/docs/agent-deployments/overview/)
# example: dev.yourdomain.com or default.localhost (for local development)
# if empty, defaults to default.localhost and routes to port 5053
DEFAULT_AGENT_DOMAIN=

# port of DEFAULT_AGENT_DOMAIN 
# default to 80 or 443 depending on if the domain is secured using tls or not
# Note: When using Traefik, this is handled automatically (80 for HTTP, 443 for HTTPS)
AGENT_DOMAIN_PORT=

# domain that hosts DEPLOYED / production agents (see https://smythos.com/docs/agent-deployments/overview/)
# example: agents.yourdomain.com or prod.localhost (for local development)
# if empty, defaults to prod.localhost and routes to port 5053
PROD_AGENT_DOMAIN=
# request limit per minute for runtime server
# default to 300
REQ_LIMIT_PER_MINUTE=
# maximum concurrent requests for runtime server
# default to 50
MAX_CONCURRENT_REQUESTS=
# Middleware API port
MIDDLEWARE_API_PORT=

# Database provider
## options: mysql (will support more in the future)
DATABASE_PROVIDER=mysql 
DATABASE_HOST=
DATABASE_USER=
DATABASE_PASSWORD=
DATABASE_NAME=
DATABASE_ROOT_PASSWORD=
# Database URL
# Format: mysql://<username>:<password>@<host>:<port>/<database>
# Example: mysql://user:password@mysql:3306/smythos_db
# You can use the expansion to build the database url instead of re-defining the credentials
# Expansion example: mysql://$DATABASE_USER:$DATABASE_PASSWORD@$DATABASE_HOST:3306/$DATABASE_NAME?allowPublicKeyRetrieval=true&useSSL=false
DATABASE_URL=$DATABASE_PROVIDER://$DATABASE_USER:$DATABASE_PASSWORD@$DATABASE_HOST:3306/$DATABASE_NAME?allowPublicKeyRetrieval=true&useSSL=false
